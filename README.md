# MTS-AI-Raspberry-Pi
ИИ для Raspberry Pi на основе MTS-AI


Скрипт который выполняет распознавание речи и синтез речи с использованием API текст в речь (TTS) на основе gRPC. Вот краткое описание основных компонентов и функциональности кода:

Импорт необходимых модулей: Скрипт импортирует несколько модулей, включая argparse, random, ConfigParser, pprint, grpc, google.protobuf.json_format, keycloak, speech_recognition и pyttsx3. Эти модули используются для разбора аргументов командной строки, обмена данными с API, разбора конфигурации, красивого вывода, распознавания речи и синтеза текста в речь.

Чтение конфигурации API: Функция read_api_config читает параметры соединения с API и аутентификации из файла конфигурации INI (config.ini). Она использует модуль ConfigParser для разбора файла конфигурации и возвращает объект ConfigParser.

Получение метаданных запроса: Функция get_request_metadata получает метаданные запроса, включая токен авторизации и идентификатор трассировки, используя предоставленную конфигурацию аутентификации. Она использует класс KeycloakOpenID из модуля keycloak для аутентификации на сервере Keycloak и получения токена доступа.

Синтез речи: Функция synthesize_file синтезирует речь с использованием API TTS. Она создает запрос gRPC (tts_pb2.SynthesizeSpeechRequest) с указанным текстом, кодировкой, частотой дискретизации, именем голоса и опциями синтеза. Затем она устанавливает защищенный канал gRPC с указанным адресом API и отправляет запрос на сервер с использованием метода TTSStub.Synthesize.with_call.

Распознавание речи: Функция speech_recognition выполняет распознавание речи с использованием модуля speech_recognition. Она использует встроенный микрофон системы в качестве источника аудио и ожидает ввода речи. После записи аудио она использует сервис распознавания речи Google Web Speech API для распознавания речи и возвращает распознанный текст.

Синтез текста в речь: Функция text_to_speech использует модуль pyttsx3 для преобразования текста в речь. Она инициализирует движок синтеза речи и произносит предоставленный текст с помощью методов engine.say и engine.runAndWait
